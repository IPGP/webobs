.\" Manpage for packit.
.TH man 8 "03 March 2014" "1.0" "build man page"
.SH NAME
\fBbuild\fP \- creates a WebObs release package, basically from a WebObs SVN trunk or tag.
.SH SYNOPSIS
<local-webobs-svn-root>$ trunk/PACK/build releasename
.SH DESCRIPTION
\fBbuild\fP must be called from your local SVN WebObs working-copy root.

\fBreleasename\fP is the name that will be used for the generated WebObs package and SVN tag.
See 'NAMING CONVENTIONS'.

The generated WebObs package consists of a \fBWebObs-releasename.tgz\fP and its corresponding checksum files (.md5 and .sha1).

\fBbuild\fP fails if not called from a valid SVN WebObs working copy and/or if the
corresponding (automatically detected) SVN repository is not reachable. It also 
fails if a \fBWebObs-releasename.tgz\fP has already been committed, ie. you cannot 
overwrite an existing \fBWebObs-releasename.tgz\fP from \fBbuild\fP alone. 

If \fBbuild\fP finds that a SVN repository's tags/releasename already exists, it 
will prompt you to choose wether \fBWebObs-releasename.tgz\fP will be generated 
from this tag or from the trunk. 

When \fBbuild\fP detects that you working-copy trunk is out of sync with repository's trunk,
it will display differences (actually a svn status output) and will let you choose
which trunk (local or repository) to use for generating \fBWebObs-releasename.tgz\fP. 
In this case, you will not be able to commit the package files. This might be 
useful for locally testing packages before all commits are done. 

If, and only if, trunks are in sync, \fBbuild\fP will let you decide wether to tag 
the package you are generating or not (ie. creates tags/releasename).

During the package generation process, \fBbuild\fP let you edit/customize both the 
1) list of package's files and 2) the README file that will be included. 

.SH NAMING CONVENTIONS
\fBreleasenames\fP currently (march 2014) respect the following scheme: 
\fBtype-major.minor.micro\fP  (build automatically prefix tgz names with WebObs-), where type
may be one of [test, alpha, beta] and major.minor.micro are all numeric.

eg. beta-1.2.10 (package tgz names will be generated as WebObs-beta-1.2.10).   
.SH OPTIONS
No command line option, but releasename is required.
.SH SEE ALSO
fpm, setup 
.SH AUTHOR
Didier Lafon
.SH COPYRIGHT
Webobs - 2014 - Institut de Physique du Globe Paris

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

